<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Music Player - Gata Only</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-red: #FF3333;
            --dark-bg: #0F0F0F;
            --secondary-dark: #1A1A1A;
            --text-light: #FFFFFF;
            --text-muted: #B3B3B3;
            --accent-glow: rgba(255, 51, 51, 0.4);
        }

        * {
            box-sizing: border-box;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-red) var(--secondary-dark);
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-light);
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* Existing styles... */

        @media (max-width: 768px) {
            .music-player-container {
                flex-direction: column;
                width: 100%;
                height: 100vh;
                border-radius: 0;
                max-width: none;
            }

            .music-player, .lyrics-container {
                width: 100%;
                max-height: 50%;
            }

            .lyrics-container {
                display: none; /* Hide lyrics on mobile */
                border-left: none;
                border-top: 2px solid var(--primary-red);
            }
        }

        /* New styles for popup */
        #repeatPopup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--secondary-dark);
            border: 2px solid var(--primary-red);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            z-index: 1000;
            max-width: 90%;
            width: 400px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.5);
        }

        #repeatPopup .popup-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #repeatPopup .popup-logo {
            width: 100px;
            height: 100px;
            background-color: var(--primary-red);
            border-radius: 50%;
            margin-bottom: 20px;
        }

        #repeatPopup .popup-text {
            color: var(--text-light);
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        #repeatPopup .popup-close {
            background-color: var(--primary-red);
            color: var(--text-light);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="music-player-container">
        <div class="music-player">
            <img src="/gataonly.jpeg" alt="Gata Only Cover">
            
            <div class="song-info">
                <h3>Gata Only</h3>
                <small>FloyyMenor, Cris Mj</small>
            </div>

            <audio id="audioPlayer">
                <source src="/gataonly.mp3" type="audio/mp4">
            </audio>

            <div class="progress-container" id="progressContainer">
                <div class="progress" id="progress"></div>
            </div>

            <div class="controls">
                <button id="prevBtn">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button id="playPauseBtn">
                    <i class="fas fa-play" id="playPauseIcon"></i>
                </button>
                <button id="nextBtn">
                    <i class="fas fa-step-forward"></i>
                </button>
            </div>
        </div>

        <div class="lyrics-container">
            <div class="lyrics" id="lyrics">
                Mami, te siento lejo', dime dónde estás
Te quiero chingar, te voy a raptar
Déjate llevar y apaga el celular
Que si estás conmigo no te va a pasar na'
Solo déjate llevar
'Tate atenta a la fuga
Si yo quiero contigo y tú quiere' conmigo
Dime si se da (brr)

Ba-ba-baby, dale, ponte pa' mí, follow me
Tú ere', like, for me y yo 'toy pa' ti
Gata, tú está' only, mándame tu ubi
Mueve los cachete' al ritmo del TikTok

Conmigo esa gata se escapó
Y en su casa nadie lo notó
Que conmigo la baby esta noche la pasó cabrón
Ga-ga-gata, pon el celu en modo avión
Tú mi loca y yo tu locotrón
Tú te pone' pa' mí
Y yo por ti me tiro to'a la misión

Mami, te siento lejo', dime dónde estás
Te quiero chingar, te voy a raptar
Déjate llevar y apaga el celular
Que si estás conmigo no te va a pasar na'
Solo déjate llevar
'Tate atenta a la fuga
Si yo quiero contigo y tú quiere' conmigo
Dime si se da

A-a-así que trépate, actívate
Acicálate, que te quiero ver
Te paso a recoger, te hago mi mujer
Te hago mi mujer, te hago mi mujer

Esta noche la pasamo' bien
Conmigo no te quieren ver
Dime qué e' lo que quiere' hacer
Gata, yo te voy a romper

Esta noche la pasamo' bien
Conmigo no te quieren ver
Dime qué e' lo que quiere' hacer (Gata, yo te voy a romper)

After, vamono' pa'l after, brr
Ey, ey, ya tú sabe' quiénes somo' FloyyMenor
Y en los controle' BigCvyu, dame lu', pu-pu-pu
Pu-pu-pu, brr

[Balik ke lirik pertama...]
            </div>
        </div>
    </div>

    <!-- Repeat Popup -->
    <div id="repeatPopup">
        <div class="popup-content">
            <div class="popup-logo"></div>
            <div class="popup-text">
                Kamu Mau Mengulang Lagu Ini??? 
                Mohon Membeli Ghostly Premium Fitur Nya Yakni 
                Membuat Suara Music Lebih Jernih dan Ngebass, 
                Settingan Mengecilkan Suara penyanyi alias lagu nya menjadi instrument
            </div>
            <button class="popup-close" id="closeRepeatPopup">Close</button>
        </div>
    </div>

    <script>
        const audioPlayer = document.getElementById('audioPlayer');
        const progressContainer = document.getElementById('progressContainer');
        const progress = document.getElementById('progress');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playPauseIcon = document.getElementById('playPauseIcon');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const repeatPopup = document.getElementById('repeatPopup');
        const closeRepeatPopupBtn = document.getElementById('closeRepeatPopup');

        const trackList = ['/gataonly.mp3'];
        let isRepeating = false;

        function togglePlayPause() {
            if (audioPlayer.paused) {
                audioPlayer.play();
                playPauseIcon.classList.remove('fa-play');
                playPauseIcon.classList.add('fa-pause');
            } else {
                audioPlayer.pause();
                playPauseIcon.classList.remove('fa-pause');
                playPauseIcon.classList.add('fa-play');
            }
        }

        function updateProgressBar() {
            const percentage = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            progress.style.width = `${percentage}%`;
        }

        function setProgress(e) {
            const totalWidth = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const percentage = (clickX / totalWidth);
            audioPlayer.currentTime = percentage * audioPlayer.duration;
        }

        audioPlayer.addEventListener('timeupdate', updateProgressBar);
        progressContainer.addEventListener('click', setProgress);
        playPauseBtn.addEventListener('click', togglePlayPause);

        audioPlayer.addEventListener('ended', () => {
            playPauseIcon.classList.remove('fa-pause');
            playPauseIcon.classList.add('fa-play');
        });

        // Custom repeat logic with popup
        audioPlayer.addEventListener('timeupdate', () => {
            if (!isRepeating && audioPlayer.currentTime >= audioPlayer.duration - 0.5) {
                audioPlayer.pause();
                repeatPopup.style.display = 'block';
                isRepeating = true;
            }
        });

        closeRepeatPopupBtn.addEventListener('click', () => {
            repeatPopup.style.display = 'none';
            isRepeating = false;
            audioPlayer.currentTime = 0;
        });
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</body>
</html>
