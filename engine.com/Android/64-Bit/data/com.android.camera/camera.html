<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Camera App</title>
    <style>
        /* Styling untuk elemen-elemen utama */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f4f4f4;
}

.camera-container {
    position: relative;
    width: 90%;
    max-width: 700px;
    border-radius: 50px;
    border: 5px solid #333;
    overflow: hidden;
    background-color: black;
    text-align: center;
}

video {
    width: 100%;
    height: auto;
    border-radius: 50px;
}

.top-bar {
    display: flex;
    justify-content: space-around;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
}

button {
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    padding: 10px;
    border: none;
    cursor: pointer;
}

button:hover {
    background-color: rgba(0, 0, 0, 0.7);
}

.popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    justify-content: center;
    align-items: center;
}

.popup-content {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    text-align: center;
}

.popup button {
    background-color: #4CAF50;
    color: white;
    padding: 10px;
    border: none;
    margin: 5px;
    cursor: pointer;
}

.popup button:hover {
    background-color: #45a049;
}

.control-bar {
    position: absolute;
    bottom: 160px;
    width: 100%;
    display: flex;
    justify-content: center;
}

.control-bar button {
    margin: 0 10px;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    cursor: pointer;
}

.flash-bar {
    position: absolute;
    bottom: 120px;
    width: 100%;
    display: flex;
    justify-content: center;
}

.flash-bar button {
    margin: 0 10px;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    cursor: pointer;
}

.dynamic-island {
    position: absolute;
    top: 20px;
    width: 100%;
    text-align: center;
    color: white;
}

.zoom-options {
    position: absolute;
    bottom: 160px;
    width: 100%;
    display: flex;
    justify-content: center;
}

.zoom-options button {
    margin: 0 10px;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    cursor: pointer;
}

.photo-options,
.video-options {
    position: absolute;
    bottom: 220px;
    width: 100%;
    display: flex;
    justify-content: center;
}

    </style>
</head>
<body>

    <!-- Container kamera -->
    <div class="camera-container">
        <video id="camera" autoplay></video>

        <!-- Bar Atas -->
        <div class="top-bar">
            <button id="settingsButton">Settings</button>
            <button id="flashButton">Flash</button>
            <button id="borderSizeButton">Border Size</button>
        </div>

        <!-- Opsi Zoom -->
        <div class="zoom-options">
            <button id="zoom0.5x">0.5x</button>
            <button id="zoom1x">1x</button>
            <button id="zoom20x">20x</button>
        </div>

        <!-- Opsi Foto -->
        <div class="photo-options">
            <button id="photoButton">Foto</button>
        </div>

        <!-- Opsi Video -->
        <div class="video-options">
            <button id="videoButton">Video</button>
        </div>

        <!-- Popup Settings -->
        <div id="settingsPopup" class="popup">
            <div class="popup-content">
                <h2>Settings</h2>
                <button id="hdrButton">HDR</button>
                <button id="timerButton">Timer</button>
                <button id="qrScanButton">Pindai QR Code</button>
            </div>
        </div>

        <!-- Popup Resolusi Foto -->
        <div id="photoResolutionPopup" class="popup">
            <div class="popup-content">
                <h3>Foto Resolusi</h3>
                <button id="photo4k">4K</button>
                <button id="photo8k">8K</button>
            </div>
        </div>

        <!-- Popup Resolusi Video -->
        <div id="videoResolutionPopup" class="popup">
            <div class="popup-content">
                <h3>Video Resolusi</h3>
                <button id="video4k">4K 30fps</button>
                <button id="video8k">8K 60fps</button>
            </div>
        </div>

        <!-- Popup HDR -->
        <div id="hdrPopup" class="popup">
            <div class="popup-content">
                <h3>HDR</h3>
                <button id="hdrAuto">Aktifkan HDR</button>
                <button id="hdrOff">Nonaktifkan HDR</button>
            </div>
        </div>

        <!-- Popup Timer -->
        <div id="timerPopup" class="popup">
            <div class="popup-content">
                <h3>Timer</h3>
                <button id="timer3d">3d</button>
                <button id="timer5d">5d</button>
                <button id="timer10d">10d</button>
                <button id="timerOff">Nonaktifkan Timer</button>
            </div>
        </div>

        <!-- Popup QR Scan -->
        <div id="qrScanPopup" class="popup">
            <div class="popup-content">
                <h3>Pindai QR</h3>
                <button id="qrScanOn">Aktifkan</button>
                <button id="qrScanOff">Nonaktifkan</button>
            </div>
        </div>

        <!-- Bar Suara Rana dan Fokus AI -->
        <div class="control-bar">
            <button id="shutterSoundButton">Suara Rana</button>
            <button id="focusAIButton">Fokus AI</button>
        </div>

        <!-- Flash Control -->
        <div class="flash-bar">
            <button id="flashOffButton">Flash Mati</button>
            <button id="flashOnButton">Flash Nyalakan Saat Foto</button>
            <button id="flashAlwaysButton">Flash Nyalakan Terus</button>
        </div>

        <!-- Dynamic Island -->
        <div id="dynamicIsland" class="dynamic-island">
            <h3>Video Recording Time: <span id="videoTime">00:00</span></h3>
        </div>
    </div>

    <script>
        // Mengambil elemen-elemen dari HTML
const videoElement = document.getElementById('camera');
const settingsButton = document.getElementById('settingsButton');
const flashButton = document.getElementById('flashButton');
const borderSizeButton = document.getElementById('borderSizeButton');
const photoButton = document.getElementById('photoButton');
const videoButton = document.getElementById('videoButton');
const hdrButton = document.getElementById('hdrButton');
const timerButton = document.getElementById('timerButton');
const qrScanButton = document.getElementById('qrScanButton');

// Popups
const settingsPopup = document.getElementById('settingsPopup');
const photoResolutionPopup = document.getElementById('photoResolutionPopup');
const videoResolutionPopup = document.getElementById('videoResolutionPopup');
const hdrPopup = document.getElementById('hdrPopup');
const timerPopup = document.getElementById('timerPopup');
const qrScanPopup = document.getElementById('qrScanPopup');

// Flash Buttons
const flashOffButton = document.getElementById('flashOffButton');
const flashOnButton = document.getElementById('flashOnButton');
const flashAlwaysButton = document.getElementById('flashAlwaysButton');

// Suara Rana dan Fokus AI Buttons
const shutterSoundButton = document.getElementById('shutterSoundButton');
const focusAIButton = document.getElementById('focusAIButton');

// Dynamic Island
const dynamicIsland = document.getElementById('dynamicIsland');
const videoTimeElement = document.getElementById('videoTime');

// Mengaktifkan kamera
function startCamera() {
    const constraints = {
        video: {
            width: { ideal: 1920 },
            height: { ideal: 1080 },
            facingMode: 'environment',
        }
    };
    navigator.mediaDevices.getUserMedia(constraints)
    .then(stream => {
        videoElement.srcObject = stream;
    })
    .catch(error => {
        console.error('Gagal mengakses kamera:', error);
    });
}

// Fungsi untuk membuka dan menutup pop-up
function togglePopup(popup) {
    popup.style.display = popup.style.display === 'flex' ? 'none' : 'flex';
}

// Foto dan Video Resolusi
photoButton.addEventListener('click', () => togglePopup(photoResolutionPopup));
videoButton.addEventListener('click', () => togglePopup(videoResolutionPopup));

// Pilih resolusi foto
document.getElementById('photo4k').addEventListener('click', () => {
    setResolution('4k'); // Resolusi Foto 4K
    togglePopup(photoResolutionPopup);
});
document.getElementById('photo8k').addEventListener('click', () => {
    setResolution('8k'); // Resolusi Foto 8K
    togglePopup(photoResolutionPopup);
});

// Pilih resolusi video
document.getElementById('video4k').addEventListener('click', () => {
    setResolution('video4k'); // Resolusi Video 4K 30fps
    togglePopup(videoResolutionPopup);
});
document.getElementById('video8k').addEventListener('click', () => {
    setResolution('video8k'); // Resolusi Video 8K 60fps
    togglePopup(videoResolutionPopup);
});

// HDR
hdrButton.addEventListener('click', () => togglePopup(hdrPopup));

// Timer
timerButton.addEventListener('click', () => togglePopup(timerPopup));

// QR Scan
qrScanButton.addEventListener('click', () => togglePopup(qrScanPopup));

// Flash
flashButton.addEventListener('click', () => {
    if (flashOffButton.style.display === 'none') {
        flashOffButton.style.display = 'inline-block';
        flashOnButton.style.display = 'none';
        flashAlwaysButton.style.display = 'none';
    } else {
        flashOffButton.style.display = 'none';
        flashOnButton.style.display = 'inline-block';
        flashAlwaysButton.style.display = 'none';
    }
});

// Fungsi pengaturan flash
flashOffButton.addEventListener('click', () => {
    toggleFlash('off');
});
flashOnButton.addEventListener('click', () => {
    toggleFlash('on');
});
flashAlwaysButton.addEventListener('click', () => {
    toggleFlash('always');
});

function toggleFlash(mode) {
    // Implementasikan pengaturan flash ke kamera
}

// Inisialisasi kamera
startCamera();

    </script>
</body>
</html>
